<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Jenna Graff - Mini-Project 3</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Jenna Graff</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./maps.html" rel="" target="">
 <span class="menu-text">Maps</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./simulation_snowfall.html" rel="" target="">
 <span class="menu-text">Simulation and Iteration</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./strings_project.html" rel="" target="" aria-current="page">
 <span class="menu-text">String Analysis</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#minnesota-birds" id="toc-minnesota-birds" class="nav-link active" data-scroll-target="#minnesota-birds">Minnesota Birds</a>
  <ul class="collapse">
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#colors" id="toc-colors" class="nav-link" data-scroll-target="#colors">Colors</a></li>
  <li><a href="#names" id="toc-names" class="nav-link" data-scroll-target="#names">Names</a></li>
  <li><a href="#alliterations" id="toc-alliterations" class="nav-link" data-scroll-target="#alliterations">Alliterations</a></li>
  <li><a href="#largest-birds" id="toc-largest-birds" class="nav-link" data-scroll-target="#largest-birds">Largest Birds</a></li>
  <li><a href="#wordcloud" id="toc-wordcloud" class="nav-link" data-scroll-target="#wordcloud">Wordcloud</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Mini-Project 3</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="april-17-2024" class="level4">
<h4 class="anchored" data-anchor-id="april-17-2024">April 17, 2024</h4>
</section>
<section id="minnesota-birds" class="level1">
<h1>Minnesota Birds</h1>
<section id="source-kaggle.com---minnesota-birds" class="level5">
<h5 class="anchored" data-anchor-id="source-kaggle.com---minnesota-birds">Source: <a href="https://www.kaggle.com/datasets/hannahcollins/minnesota-birds?resource=download">kaggle.com - Minnesota Birds</a></h5>
</section>
<section id="introduction" class="level3">
<h3 class="anchored" data-anchor-id="introduction">Introduction</h3>
<p>This unit has a broad reach, because strings and characters are everywhere! Our task to find a data set to analyze with strings was almost too easy because the options are endless. I found a data set I liked that had a list of all birds that have been found in Minnesota. Using string functions and regular expressions, I ran a variety of tests to find patterns in bird names, such as colors, possessive apostrophes, and alliterations.</p>
</section>
<section id="colors" class="level3">
<h3 class="anchored" data-anchor-id="colors">Colors</h3>
<p>For the first analysis of these birds, I looked at which colors birds are named for most often. I chose to only extract basic colors of the rainbow, plus black, gray, and white. From the graph, we can see that birds in Minnesota are mostly named for the color black, then red and white.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="strings_project_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="names" class="level3">
<h3 class="anchored" data-anchor-id="names">Names</h3>
<p>A hot topic in the birding community is whether a large chunk of birds should be renamed. What’s causing this need for change? Racism, mostly. And sexism. The <a href="https://americanornithology.org/">American Ornithological Society</a> made the decision to <a href="https://americanornithology.org/about/english-bird-names-project/">rename all birds whose names are eponyms</a>, or named directly for a person. Many birds are named after historical figures, often whoever discovered them. More often than not, these people were hurtful and the legacies they carry on through the names of birds can create an environment minority birders don’t feel they are welcome in.</p>
<p><a href="https://www.npr.org/2023/11/01/1209660753/these-american-birds-and-dozens-more-will-be-renamed-to-remove-human-monikers">This article</a> by NPR highlights the way some of these bird’s names have been exclusionary in the past, and how some are responding to this change. In an interview with Kenn Kaufman, a longtime author of bird guides, he tells of how he came around to the change.</p>
<p>Another compelling reason for this change is to showcase a unique characteristic of the bird. For example, ‘Townsend’s Warbler’ doesn’t bring a vivid picture to one’s mind, but ‘Black-Throated Gray Warbler’ does, or ‘Hermit Warbler’ indicates something about the bird’s behavior.</p>
<p>This following table provides a look at the names of birds that will be changing in the near future! If you see birds you know and love, what do you think they should be named? The American Ornithological Society has committed to including the public in deciding new names, so your input could be taken into account!</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Ross's goose</td>
</tr>
<tr class="even">
<td style="text-align: left;">Barrow's goldeneye</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Clark's grebe</td>
</tr>
<tr class="even">
<td style="text-align: left;">Chuck-will's-widow</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Rivoli's hummingbird</td>
</tr>
<tr class="even">
<td style="text-align: left;">Anna's hummingbird</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Costa's hummingbird</td>
</tr>
<tr class="even">
<td style="text-align: left;">Wilson's plover</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Baird's sandpiper</td>
</tr>
<tr class="even">
<td style="text-align: left;">Wilson's snipe</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Wilson's phalarope</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sabine's gull</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Bonaparte's gull</td>
</tr>
<tr class="even">
<td style="text-align: left;">Ross's gull</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Franklin's gull</td>
</tr>
<tr class="even">
<td style="text-align: left;">Forster's tern</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cooper's hawk</td>
</tr>
<tr class="even">
<td style="text-align: left;">Swainson's hawk</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Lewis's woodpecker</td>
</tr>
<tr class="even">
<td style="text-align: left;">Williamson's sapsucker</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cassin's kingbird</td>
</tr>
<tr class="even">
<td style="text-align: left;">Say's phoebe</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Bell's vireo</td>
</tr>
<tr class="even">
<td style="text-align: left;">Clark's nutcracker</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Bewick's wren</td>
</tr>
<tr class="even">
<td style="text-align: left;">Townsend's solitaire</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Swainson's thrush</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sprague's pipit</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cassin's finch</td>
</tr>
<tr class="even">
<td style="text-align: left;">Smith's longspur</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Brewer's sparrow</td>
</tr>
<tr class="even">
<td style="text-align: left;">Harris's sparrow</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LeConte's sparrow</td>
</tr>
<tr class="even">
<td style="text-align: left;">Nelson's sparrow</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Baird's sparrow</td>
</tr>
<tr class="even">
<td style="text-align: left;">Henslow's sparrow</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Lincoln's sparrow</td>
</tr>
<tr class="even">
<td style="text-align: left;">Bullock's oriole</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Scott's oriole</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brewer's blackbird</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MacGillivray's warbler</td>
</tr>
<tr class="even">
<td style="text-align: left;">Kirtland's warbler</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Townsend's warbler</td>
</tr>
<tr class="even">
<td style="text-align: left;">Wilson's warbler</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="alliterations" class="level3">
<h3 class="anchored" data-anchor-id="alliterations">Alliterations</h3>
<p>As a fun little analysis of this data set, I decided to look for alliterations in these bird’s names! Some of them are quite silly to say out loud.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Name</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Category</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Greater White-Fronted Goose</td>
<td style="text-align: left;">Ducks, geese, and waterfowl</td>
</tr>
<tr class="even">
<td style="text-align: left;">Surf Scoter</td>
<td style="text-align: left;">Ducks, geese, and waterfowl</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Passenger Pigeon</td>
<td style="text-align: left;">Pigeons and doves</td>
</tr>
<tr class="even">
<td style="text-align: left;">American Avocet</td>
<td style="text-align: left;">Stilts and avocets</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Piping Plover</td>
<td style="text-align: left;">Plovers and lapwings</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sharp-Tailed Sandpiper</td>
<td style="text-align: left;">Sandpipers and allies</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Stilt Sandpiper</td>
<td style="text-align: left;">Sandpipers and allies</td>
</tr>
<tr class="even">
<td style="text-align: left;">Semipalmated Sandpiper</td>
<td style="text-align: left;">Sandpipers and allies</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Spotted Sandpiper</td>
<td style="text-align: left;">Sandpipers and allies</td>
</tr>
<tr class="even">
<td style="text-align: left;">Solitary Sandpiper</td>
<td style="text-align: left;">Sandpipers and allies</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Glaucous-Winged Gull</td>
<td style="text-align: left;">Gulls, terns, and skimmers</td>
</tr>
<tr class="even">
<td style="text-align: left;">Glaucous Gull</td>
<td style="text-align: left;">Gulls, terns, and skimmers</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Great Black-Backed Gull</td>
<td style="text-align: left;">Gulls, terns, and skimmers</td>
</tr>
<tr class="even">
<td style="text-align: left;">Great Gray Owl</td>
<td style="text-align: left;">Owls</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Crested Caracara</td>
<td style="text-align: left;">Falcons and caracaras</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fork-Tailed Flycatcher</td>
<td style="text-align: left;">Tyrant flycatchers</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Western Wood-Pewee</td>
<td style="text-align: left;">Tyrant flycatchers</td>
</tr>
<tr class="even">
<td style="text-align: left;">Tufted Titmouse</td>
<td style="text-align: left;">Tits, chickadees, and titmice</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Winter Wren</td>
<td style="text-align: left;">Wrens</td>
</tr>
<tr class="even">
<td style="text-align: left;">Lapland Longspur</td>
<td style="text-align: left;">Longspurs and snow buntings</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Savannah Sparrow</td>
<td style="text-align: left;">New World sparrows</td>
</tr>
<tr class="even">
<td style="text-align: left;">Song Sparrow</td>
<td style="text-align: left;">New World sparrows</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Swamp Sparrow</td>
<td style="text-align: left;">New World sparrows</td>
</tr>
<tr class="even">
<td style="text-align: left;">Orchard Oriole</td>
<td style="text-align: left;">Troupials and allies</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Brewer's Blackbird</td>
<td style="text-align: left;">Troupials and allies</td>
</tr>
<tr class="even">
<td style="text-align: left;">Great-Tailed Grackle</td>
<td style="text-align: left;">Troupials and allies</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Worm-Eating Warbler</td>
<td style="text-align: left;">New World warblers</td>
</tr>
<tr class="even">
<td style="text-align: left;">Black-Throated Blue Warbler</td>
<td style="text-align: left;">New World warblers</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Wilson's Warbler</td>
<td style="text-align: left;">New World warblers</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Some of these bird categories have more than one alliteration and seem like they could be a significant proportion of their category - especially sandpipers! I decided to see if these groupings of birds had high proportions of alliterative names.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="strings_project_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>As it turns out, the highest proportion of alliterative names in these groups is for the stilts and avocets - of which there are only two.</p>
</section>
<section id="largest-birds" class="level3">
<h3 class="anchored" data-anchor-id="largest-birds">Largest Birds</h3>
<p>Although this section doesn’t use string functions to carry out analysis, we learned about tree maps in class, and I wanted to use an application of this visualization in my project.</p>
<p>These following tree maps show the largest groups of birds on average by their wingspan, length, and body mass. Larger squares correspond with larger wingpans, lengths or body masses.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="strings_project_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="strings_project_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="strings_project_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="wordcloud" class="level3">
<h3 class="anchored" data-anchor-id="wordcloud">Wordcloud</h3>
<p>For a final visualization, I made a wordcloud of the common words in bird’s names. The larger words are ones that appear most frequently. I chose to make this visualization with the 120 most often occurring words. Some of the most common words, such as ‘warbler’ or ‘sparrow’, occur frequently because there are many types included in the data set.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="strings_project_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>